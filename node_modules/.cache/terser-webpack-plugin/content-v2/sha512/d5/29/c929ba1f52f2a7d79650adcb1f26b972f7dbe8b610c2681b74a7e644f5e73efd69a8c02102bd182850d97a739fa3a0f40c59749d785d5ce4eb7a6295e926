{"map":{"version":3,"sources":["static/js/main.363a8f31.chunk.js"],"names":["this","push","44","module","exports","__webpack_require__","49","50","51","66","70","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","index_cjs","index_cjs_default","db","a","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","storage","component_Post_Post","_ref","user","postId","username","caption","imageUrl","_useState","Object","_useState2","comments","setComments","_useState3","_useState4","comment","setComment","unsubscribe","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","createElement","className","src","alt","id","key","text","type","placeholder","value","onChange","e","target","disabled","onClick","event","preventDefault","add","displayName","timestamp","FieldValue","serverTimestamp","makeStyles","Modal","Input","Button","component_UploadImage_UploadImage","setCaption","image","setImage","_useState5","_useState6","progress","setProgress","max","files","ref","concat","name","put","on","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","then","url","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","src_App","_React$useState","useState","modalStyle","classes","posts","setPosts","open","setOpen","setUsername","_useState7","_useState8","password","setPassword","_useState9","_useState10","email","setEmail","_useState11","_useState12","setUser","_useState13","_useState14","openSignIn","setOpenSignIn","onAuthStateChanged","authUser","post","onClose","style","createUserWithEmailAndPassword","updateProfile","catch","signInWithEmailAndPassword","signOut","Boolean","window","location","hostname","match","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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"},"code":"(this[\"webpackJsonpinstagram-clone\"]=this[\"webpackJsonpinstagram-clone\"]||[]).push([[0],{44:function(e,t,a){e.exports=a(70)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},66:function(e,t,a){},70:function(e,t,a){\"use strict\";a.r(t);var n=a(0),c=a.n(n),o=a(13),r=a.n(o),s=(a(49),a(10)),l=(a(50),a(51),a(97)),i=a(18),m=a.n(i),u=m.a.initializeApp({apiKey:\"AIzaSyBQWy2w1zeV2JxEGAqP2HZ1OtcPq6hwTCc\",authDomain:\"instagram-clone-3da67.firebaseapp.com\",databaseURL:\"https://instagram-clone-3da67.firebaseio.com\",projectId:\"instagram-clone-3da67\",storageBucket:\"instagram-clone-3da67.appspot.com\",messagingSenderId:\"501093658567\",appId:\"1:501093658567:web:1104cd4c5629032353f3e2\",measurementId:\"G-QL5SW6SFSH\"}).firestore(),p=m.a.auth(),d=m.a.storage();var g=function(e){var t=e.user,a=e.postId,o=e.username,r=e.caption,i=e.imageUrl,p=Object(n.useState)([]),d=Object(s.a)(p,2),g=d[0],f=d[1],E=Object(n.useState)(\"\"),h=Object(s.a)(E,2),b=h[0],v=h[1];return Object(n.useEffect)((function(){var e;return a&&(e=u.collection(\"posts\").doc(a).collection(\"comments\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){f(e.docs.map((function(e){return e.data()})))}))),function(){e()}}),[a]),c.a.createElement(\"div\",{className:\"post\"},c.a.createElement(\"div\",{className:\"post-header\"},c.a.createElement(l.a,{className:\"post-avatar\",src:i,alt:o}),c.a.createElement(\"h3\",null,o)),c.a.createElement(\"img\",{className:\"post-image\",src:i,alt:\"avtar\"}),c.a.createElement(\"h4\",{className:\"post-text\"},c.a.createElement(\"strong\",null,o),r),c.a.createElement(\"div\",{className:\"post-comments\"},g.map((function(e,t){return c.a.createElement(\"p\",{key:t},c.a.createElement(\"strong\",null,e.username),e.text)}))),t&&c.a.createElement(\"form\",{className:\"post-comment-box\"},c.a.createElement(\"input\",{className:\"post-input\",type:\"text\",placeholder:\"add a comment...\",value:b,onChange:function(e){return v(e.target.value)}}),c.a.createElement(\"button\",{className:\"post-button\",disabled:!b,type:\"submit\",onClick:function(e){e.preventDefault(),u.collection(\"posts\").doc(a).collection(\"comments\").add({text:b,username:t.displayName,timestamp:m.a.firestore.FieldValue.serverTimestamp()}),v(\"\")}},\"Post\")))},f=a(93),E=a(94),h=a(96),b=a(95);a(66);var v=function(e){var t=e.username,a=Object(n.useState)(\"\"),o=Object(s.a)(a,2),r=o[0],l=o[1],i=Object(n.useState)(null),p=Object(s.a)(i,2),g=p[0],f=p[1],E=Object(n.useState)(0),h=Object(s.a)(E,2),v=h[0],y=h[1];return c.a.createElement(\"div\",{className:\"image-upload\"},c.a.createElement(\"progress\",{className:\"image-upload-progress\",value:v,max:\"100\"}),c.a.createElement(\"input\",{type:\"text\",placeholder:\"Enter a caption...\",onChange:function(e){return l(e.target.value)},value:r}),c.a.createElement(\"input\",{type:\"file\",onChange:function(e){e.target.files[0]&&f(e.target.files[0])}}),c.a.createElement(b.a,{onClick:function(){d.ref(\"images/\".concat(g.name)).put(g).on(\"state_changed\",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);y(t)}),(function(e){console.log(e),alert(e.message)}),(function(){d.ref(\"images\").child(g.name).getDownloadURL().then((function(e){u.collection(\"posts\").add({timestamp:m.a.firestore.FieldValue.serverTimestamp(),caption:r,imageUrl:e,username:t}),y(0),l(\"\"),f(null)}))}))}},\"Upload\"))};a(67);function y(){return{top:\"\".concat(50,\"%\"),left:\"\".concat(50,\"%\"),transform:\"translate(-\".concat(50,\"%, -\").concat(50,\"%)\")}}var w=Object(f.a)((function(e){return{paper:{position:\"absolute\",width:400,backgroundColor:e.palette.background.paper,border:\"2px solid #000\",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));var O=function(){var e=c.a.useState(y),t=Object(s.a)(e,1)[0],a=w(),o=Object(n.useState)([]),r=Object(s.a)(o,2),l=r[0],i=r[1],m=Object(n.useState)(!1),d=Object(s.a)(m,2),f=d[0],O=d[1],j=Object(n.useState)(\"\"),S=Object(s.a)(j,2),N=S[0],C=S[1],k=Object(n.useState)(\"\"),x=Object(s.a)(k,2),I=x[0],_=x[1],U=Object(n.useState)(\"\"),B=Object(s.a)(U,2),A=B[0],P=B[1],W=Object(n.useState)(null),D=Object(s.a)(W,2),L=D[0],T=D[1],z=Object(n.useState)(!1),F=Object(s.a)(z,2),J=F[0],V=F[1];return Object(n.useEffect)((function(){var e=p.onAuthStateChanged((function(e){e?(console.log(e),T(e)):T(null)}));return function(){e()}}),[L,N]),Object(n.useEffect)((function(){u.collection(\"posts\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){i(e.docs.map((function(e){return{id:e.id,post:e.data()}})))}))}),[]),c.a.createElement(\"div\",{className:\"app\"},c.a.createElement(E.a,{open:f,onClose:function(){return O(!1)}},c.a.createElement(\"div\",{style:t,className:a.paper},c.a.createElement(\"form\",{className:\"app-signup\"},c.a.createElement(\"center\",null,c.a.createElement(\"img\",{src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",className:\" app-header-image\",alt:\"\"})),c.a.createElement(h.a,{type:\"text\",placeholder:\"username\",value:N,onChange:function(e){C(e.target.value)}}),c.a.createElement(h.a,{type:\"text\",placeholder:\"email\",value:A,onChange:function(e){P(e.target.value)}}),c.a.createElement(h.a,{type:\"text\",placeholder:\"password\",value:I,onChange:function(e){_(e.target.value)}}),c.a.createElement(b.a,{type:\"submit\",onClick:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(A,I).then((function(e){return e.user.updateProfile({displayName:N})})).catch((function(e){return alert(e.message)}))}},\"Sign Up\")))),c.a.createElement(E.a,{open:J,onClose:function(){return V(!1)}},c.a.createElement(\"div\",{style:t,className:a.paper},c.a.createElement(\"form\",{className:\"app-signup\"},c.a.createElement(\"center\",null,c.a.createElement(\"img\",{src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",className:\" app-header-image\",alt:\"\"})),c.a.createElement(h.a,{type:\"text\",placeholder:\"email\",value:A,onChange:function(e){P(e.target.value)}}),c.a.createElement(h.a,{type:\"text\",placeholder:\"password\",value:I,onChange:function(e){_(e.target.value)}}),c.a.createElement(b.a,{type:\"submit\",onClick:function(e){e.preventDefault(),p.signInWithEmailAndPassword(A,I).catch((function(e){return alert(e.message)})),V(!1)}},\"Sign In\")))),c.a.createElement(\"div\",{className:\"app-header\"},c.a.createElement(\"img\",{className:\"app-header-image\",src:\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",alt:\"app_logo\"}),L?c.a.createElement(b.a,{onClick:function(){return p.signOut()}},\"Logout\"):c.a.createElement(\"div\",{className:\"app-login-container\"},c.a.createElement(b.a,{onClick:function(){V(!0)}},\"Sign In\"),c.a.createElement(b.a,{onClick:function(){O(!0)}},\"Sign Up\"))),c.a.createElement(\"div\",{className:\"app-posts\"},c.a.createElement(\"div\",{className:\"app-posts-left\"},l.map((function(e){var t=e.id,a=e.post;return c.a.createElement(g,{key:t,postId:t,user:L,username:a.username,caption:a.caption,imageUrl:a.imageUrl})})))),(null===L||void 0===L?void 0:L.displayName)?c.a.createElement(v,{username:L.displayName}):c.a.createElement(\"h3\",null,\"Sorry you need to login to upload\"))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(O,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[44,1,2]]]);","extractedComments":[]}