{"ast":null,"code":"var _jsxFileName = \"/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/App.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./component/Post\";\nimport { db } from \"./firebase\";\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input } from \"@material-ui/core\";\nimport { auth } from \"./firebase\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`\n  };\n}\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  }\n}));\n\nfunction App() {\n  const [modalStyle] = React.useState(getModalStyle);\n  const classes = useStyles();\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged(authUser => {\n      if (authUser) {\n        // user has login \n        console.log(authUser);\n        setUser(authUser);\n      } else {\n        // user has logout\n        setUser(null);\n      }\n    });\n    return () => {\n      // perform some clean up actions\n      unsubscribe();\n    };\n  }, [user, username]); // useEffect--> run a piece of code based on condtion and run every time whe condition change\n\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot(snapshot => {\n      setPosts(snapshot.docs.map(doc => ({\n        id: doc.id,\n        post: doc.data()\n      })));\n    });\n  }, []);\n\n  const signUp = event => {\n    event.preventDefault();\n    auth.createUserWithEmailAndPassword(email, password).then(authUser => {\n      return authUser.user.updateProfile({\n        displayName: username\n      });\n    }).catch(error => alert(error.message));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: () => setOpen(false),\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"app-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",\n    className: \" app-header-image\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"username\",\n    value: username,\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"email\",\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")))), /*#__PURE__*/React.createElement(Modal, {\n    open: open,\n    onClose: () => setOpen(false),\n    \"aria-labelledby\": \"simple-modal-title\",\n    \"aria-describedby\": \"simple-modal-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: modalStyle,\n    className: classes.paper,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"app-signup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",\n    className: \" app-header-image\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"username\",\n    value: username,\n    onChange: e => {\n      setUsername(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"email\",\n    value: email,\n    onChange: e => {\n      setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"password\",\n    value: password,\n    onChange: e => {\n      setPassword(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: signUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"app-header-image\",\n    src: \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\",\n    alt: \"app_logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 9\n    }\n  })), user ? /*#__PURE__*/React.createElement(Button, {\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }, \"Logout\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-login-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      setOpenSignIn(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 14\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      setOpen(true);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 14\n    }\n  }, \"Sign Up\")), posts.map(({\n    id,\n    post\n  }) => /*#__PURE__*/React.createElement(Post, {\n    key: id,\n    username: post.username,\n    caption: post.caption,\n    imageUrl: post.imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/App.js"],"names":["React","useState","useEffect","Post","db","makeStyles","Modal","Button","Input","auth","getModalStyle","top","left","transform","useStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","App","modalStyle","classes","posts","setPosts","open","setOpen","username","setUsername","password","setPassword","email","setEmail","user","setUser","openSignIn","setOpenSignIn","unsubscribe","onAuthStateChanged","authUser","console","log","collection","onSnapshot","snapshot","docs","map","doc","id","post","data","signUp","event","preventDefault","createUserWithEmailAndPassword","then","updateProfile","displayName","catch","error","alert","message","e","target","value","signOut","caption","imageUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\nimport Post from \"./component/Post\";\nimport { db } from \"./firebase\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Modal from '@material-ui/core/Modal';\nimport { Button, Input } from \"@material-ui/core\";\nimport { auth } from \"./firebase\";\n\nfunction getModalStyle() {\n  const top = 50;\n  const left = 50;\n\n  return {\n    top: `${top}%`,\n    left: `${left}%`,\n    transform: `translate(-${top}%, -${left}%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nfunction App() {\n  const [modalStyle] = React.useState(getModalStyle);\n  const classes = useStyles();\n\n\n  const [posts, setPosts] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [user, setUser] = useState(null);\n  const [openSignIn, setOpenSignIn] = useState(false);\n\n  useEffect(() => {\n    const unsubscribe = auth.onAuthStateChanged((authUser) => {\n      if(authUser) {\n        // user has login \n        console.log(authUser);\n        setUser(authUser);\n      }\n      else {\n        // user has logout\n        setUser(null);\n      }\n    })\n\n    return () => {\n      // perform some clean up actions\n      unsubscribe();\n    }\n  }, [user, username]);\n\n  // useEffect--> run a piece of code based on condtion and run every time whe condition change\n  useEffect(() => {\n    db.collection(\"posts\").onSnapshot((snapshot) => {\n      setPosts(snapshot.docs.map( doc => ({\n        id: doc.id,\n        post: doc.data()\n      })));\n    })\n  }, []);\n\n  const signUp = (event) => {\n    event.preventDefault();\n\n    auth.createUserWithEmailAndPassword(email, password)\n    .then((authUser) => {\n      return authUser.user.updateProfile({\n        displayName: username\n      })\n    })\n    .catch((error) => alert(error.message))\n  }\n\n  return (\n    <div className=\"app\">\n\n      <Modal\n      open={open}\n      onClose={()=> setOpen(false)}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n      <div style={modalStyle} className={classes.paper}>\n      <form className = 'app-signup'>\n        <center>\n          <img\n            src = \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n            className =\" app-header-image\"\n            alt = \"\"\n          />\n        </center>\n      \n          <Input\n            type = 'text'\n            placeholder = 'username'\n            value = {username}\n            onChange = { (e) => { setUsername(e.target.value)}}\n          />\n          <Input\n            type = 'text'\n            placeholder = 'email'\n            value = {email}\n            onChange = { (e) => { setEmail(e.target.value)}}\n          />\n          <Input\n            type = 'text'\n            placeholder = 'password'\n            value = {password}\n            onChange = { (e) => { setPassword(e.target.value)}}\n          />\n          <Button type = 'submit' onClick = {signUp} >Sign Up</Button>\n         </form> \n        \n      </div>\n    </Modal>\n\n\n    <Modal\n      open={open}\n      onClose={()=> setOpen(false)}\n      aria-labelledby=\"simple-modal-title\"\n      aria-describedby=\"simple-modal-description\"\n    >\n      <div style={modalStyle} className={classes.paper}>\n      <form className = 'app-signup'>\n        <center>\n          <img\n            src = \"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n            className =\" app-header-image\"\n            alt = \"\"\n          />\n        </center>\n      \n          <Input\n            type = 'text'\n            placeholder = 'username'\n            value = {username}\n            onChange = { (e) => { setUsername(e.target.value)}}\n          />\n          <Input\n            type = 'text'\n            placeholder = 'email'\n            value = {email}\n            onChange = { (e) => { setEmail(e.target.value)}}\n          />\n          <Input\n            type = 'text'\n            placeholder = 'password'\n            value = {password}\n            onChange = { (e) => { setPassword(e.target.value)}}\n          />\n          <Button type = 'submit' onClick = {signUp} >Sign Up</Button>\n         </form> \n        \n      </div>\n    </Modal>\n\n    \n\n      <div className=\"app-header\">\n        <img\n          className=\"app-header-image\"\n          src=\"https://www.instagram.com/static/images/web/mobile_nav_type_logo.png/735145cfe0a4.png\"\n          alt=\"app_logo\"\n        />\n      </div>\n\n      {user ? ( <Button onClick = { () => auth.signOut() }>Logout</Button>\n          ): (\n            <div className = 'app-login-container'>\n             <Button onClick = { () => {setOpenSignIn(true)}}>Sign In</Button>\n             <Button onClick = { () => {setOpen(true)}}>Sign Up</Button>\n            </div>\n          )\n      }  \n\n      {posts.map(({id, post}) => (\n        <Post\n          key = {id}\n          username={post.username}\n          caption={post.caption}\n          imageUrl={post.imageUrl}\n        />\n      ))}\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}