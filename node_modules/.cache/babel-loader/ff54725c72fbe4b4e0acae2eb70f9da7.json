{"ast":null,"code":"var _jsxFileName = \"/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/component/UploadImage/UploadImage.js\";\nimport React, { useState } from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { storage, db } from '../../firebase';\n\nfunction UploadImage() {\n  const [caption, setCaption] = useState('');\n  const [image, setImage] = useState('');\n  const [progress, setProgress] = useState('');\n\n  const handleUChange = e => {\n    if (e.target.files[0]) {\n      setImage(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    const uploadTask = storage.ref(`images/${image.name}`).put(image);\n    uploadTask.on('state_changed', snapshot => {\n      // progress function\n      const progress = Math.round(snapshot.bytesTransferred / snapshot.totalBytes * 100);\n      setProgress(progress);\n    }, error => {\n      // error function\n      console.log(error);\n      alert(error.message);\n    }, () => {\n      // complete function\n      storage.ref('images').child(image.name).getDownloadURL();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Enter a caption...\",\n    onChange: event => setCaption(event.target.value),\n    value: caption,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }\n  }, \"Upload\"));\n}\n\nexport default UploadImage;","map":{"version":3,"sources":["/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/component/UploadImage/UploadImage.js"],"names":["React","useState","Button","storage","db","UploadImage","caption","setCaption","image","setImage","progress","setProgress","handleUChange","e","target","files","handleUpload","uploadTask","ref","name","put","on","snapshot","Math","round","bytesTransferred","totalBytes","error","console","log","alert","message","child","getDownloadURL","event","value"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,OAAT,EAAkBC,EAAlB,QAA4B,gBAA5B;;AAEA,SAASC,WAAT,GAAuB;AACnB,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;;AAEA,QAAMW,aAAa,GAAIC,CAAD,IAAO;AACzB,QAAGA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAH,EAAsB;AAClBN,MAAAA,QAAQ,CAACI,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAR;AACH;AACJ,GAJD;;AAKA,QAAMC,YAAY,GAAG,MAAM;AACvB,UAAMC,UAAU,GAAGd,OAAO,CAACe,GAAR,CAAa,UAASV,KAAK,CAACW,IAAK,EAAjC,EAAoCC,GAApC,CAAwCZ,KAAxC,CAAnB;AACAS,IAAAA,UAAU,CAACI,EAAX,CACI,eADJ,EAEKC,QAAD,IAAc;AACV;AACA,YAAMZ,QAAQ,GAAGa,IAAI,CAACC,KAAL,CACZF,QAAQ,CAACG,gBAAT,GAA4BH,QAAQ,CAACI,UAAtC,GAAoD,GADvC,CAAjB;AAGAf,MAAAA,WAAW,CAACD,QAAD,CAAX;AACH,KARL,EASKiB,KAAD,IAAW;AACP;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,MAAAA,KAAK,CAACH,KAAK,CAACI,OAAP,CAAL;AACH,KAbL,EAcI,MAAM;AACF;AACA5B,MAAAA,OAAO,CACJe,GADH,CACO,QADP,EAEGc,KAFH,CAESxB,KAAK,CAACW,IAFf,EAGGc,cAHH;AAIH,KApBL;AAuBH,GAzBD;;AA0BF,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAG,MAAd;AAAqB,IAAA,WAAW,EAAE,oBAAlC;AAAuD,IAAA,QAAQ,EAAKC,KAAD,IAAW3B,UAAU,CAAC2B,KAAK,CAACpB,MAAN,CAAaqB,KAAd,CAAxF;AAA8G,IAAA,KAAK,EAAI7B,OAAvH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAO,IAAA,IAAI,EAAG,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAIU,YAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHF,CADJ;AAOD;;AAED,eAAeX,WAAf","sourcesContent":["import React, {useState} from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { storage, db } from '../../firebase';\n\nfunction UploadImage() {\n    const [caption, setCaption] = useState('');\n    const [image, setImage] = useState('');\n    const [progress, setProgress] = useState('');\n\n    const handleUChange = (e) => {\n        if(e.target.files[0]) {\n            setImage(e.target.files[0]);\n        }\n    }\n    const handleUpload = () => {\n        const uploadTask = storage.ref(`images/${image.name}`).put(image);\n        uploadTask.on(\n            'state_changed',\n            (snapshot) => {\n                // progress function\n                const progress = Math.round(\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100\n                );\n                setProgress(progress);\n            },\n            (error) => {\n                // error function\n                console.log(error);\n                alert(error.message);\n            },\n            () => {\n                // complete function\n                storage\n                  .ref('images')\n                  .child(image.name)\n                  .getDownloadURL()\n            }\n        )\n\n    }\n  return (\n      <div>\n        <input type = 'text' placeholder ='Enter a caption...' onChange = {(event) => setCaption(event.target.value)} value = {caption} />\n        <input type = 'file' />\n        <Button onClick = {handleUpload}>Upload</Button>\n      </div>\n    )\n}\n\nexport default UploadImage;\n"]},"metadata":{},"sourceType":"module"}