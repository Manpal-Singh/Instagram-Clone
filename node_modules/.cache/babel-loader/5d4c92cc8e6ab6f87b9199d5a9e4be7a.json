{"ast":null,"code":"var _jsxFileName = \"/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/component/Post/Post.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Post.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from \"../../firebase\";\n\nfunction Post({\n  postId,\n  username,\n  caption,\n  imageUrl\n}) {\n  const [comments, setComments] = useState([]); // useEffect--> run a piece of code based on condtion and run every time whe condition change\n\n  useEffect(() => {\n    let unsubscribe;\n\n    if (postId) {\n      unsubscribe = db.collection(\"posts\").doc(postId).collection('comments').onSnapshot(snapshot => {\n        setComments(snapshot.docs.map(doc => doc.data()));\n      });\n    }\n\n    return () => {\n      unsubscribe();\n    };\n  }, [postId]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"post-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    className: \"post-avatar\",\n    src: imageUrl,\n    alt: username,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }, username)), /*#__PURE__*/React.createElement(\"img\", {\n    className: \"post-image\",\n    src: imageUrl,\n    alt: \"avtar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"post-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, \" \", username, \" \"), caption), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"post-input\",\n    type: \"text\",\n    placeholder: \"add a comment...\",\n    value: Comment,\n    onChange: e => setComments(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Post;","map":{"version":3,"sources":["/home/mannu/Desktop/Project/Reactjs Project/instagram-clone/src/component/Post/Post.js"],"names":["React","useState","useEffect","Avatar","db","Post","postId","username","caption","imageUrl","comments","setComments","unsubscribe","collection","doc","onSnapshot","snapshot","docs","map","data","Comment","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,YAAP;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAASC,EAAT,QAAmB,gBAAnB;;AAEA,SAASC,IAAT,CAAc;AAACC,EAAAA,MAAD;AAASC,EAAAA,QAAT;AAAmBC,EAAAA,OAAnB;AAA4BC,EAAAA;AAA5B,CAAd,EAAqD;AACnD,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC,CADmD,CAGlD;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,WAAJ;;AACA,QAAGN,MAAH,EAAW;AACTM,MAAAA,WAAW,GAAGR,EAAE,CACfS,UADa,CACF,OADE,EAEbC,GAFa,CAETR,MAFS,EAGbO,UAHa,CAGF,UAHE,EAIbE,UAJa,CAIDC,QAAD,IAAc;AACzBL,QAAAA,WAAW,CACTK,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAmBJ,GAAD,IAASA,GAAG,CAACK,IAAJ,EAA3B,CADS,CAAX;AAEA,OAPa,CAAd;AAQA;;AACD,WAAO,MAAM;AACXP,MAAAA,WAAW;AACZ,KAFD;AAGD,GAfO,EAeL,CAACN,MAAD,CAfK,CAAT;AAiBD,sBACE;AAAK,IAAA,SAAS,EAAG,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAG,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAG,aADd;AAEE,IAAA,GAAG,EAAIG,QAFT;AAGE,IAAA,GAAG,EAAIF,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKA,QAAL,CANF,CADF,eASE;AAAK,IAAA,SAAS,EAAG,YAAjB;AAA8B,IAAA,GAAG,EAAEE,QAAnC;AAA6C,IAAA,GAAG,EAAC,OAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,eAWE;AAAI,IAAA,SAAS,EAAG,WAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAUF,QAAV,MADF,EACgCC,OADhC,CAXF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,SAAS,EAAG,YADd;AAEE,IAAA,IAAI,EAAG,MAFT;AAGE,IAAA,WAAW,EAAG,kBAHhB;AAIE,IAAA,KAAK,EAAIY,OAJX;AAKE,IAAA,QAAQ,EAAKC,CAAD,IAAOV,WAAW,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CALhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAdF,CADF;AA0BD;;AAED,eAAelB,IAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./Post.css\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { db } from \"../../firebase\";\n\nfunction Post({postId, username, caption, imageUrl}) {\n  const [comments, setComments] = useState([]);\n\n   // useEffect--> run a piece of code based on condtion and run every time whe condition change\n   useEffect(() => {\n     let unsubscribe;\n     if(postId) {\n       unsubscribe = db\n       .collection(\"posts\")\n       .doc(postId)\n       .collection('comments')\n       .onSnapshot((snapshot) => {\n        setComments(\n          snapshot.docs.map((doc) => doc.data()));\n       });\n      }\n      return () => {\n        unsubscribe();\n      };\n    }, [postId]);\n\n  return (\n    <div className = \"post\">\n      <div className = \"post-header\">\n        <Avatar\n          className = \"post-avatar\"\n          src = {imageUrl}\n          alt = {username}\n        />\n        <h3>{username}</h3>\n      </div>\n      <img className = \"post-image\" src={imageUrl} alt=\"avtar\" />\n\n      <h4 className = \"post-text\">\n        <strong> {username} </strong>{caption}\n      </h4>\n      <form>\n        <input\n          className = 'post-input'\n          type = 'text'\n          placeholder = 'add a comment...'\n          value = {Comment}\n          onChange = {(e) => setComments(e.target.value)}\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}